{"version":3,"sources":["util/api.js","components/LogMarker.js","components/LogEntryForm.js","components/AddEntryMarker.js","components/App.js","index.js"],"names":["listLogEntries","a","fetch","response","json","createLogEntry","entry","method","headers","body","JSON","stringify","LogMarker","viewport","showPopup","setShowPopup","latitude","longitude","onClick","_id","className","style","height","zoom","width","version","id","x","y","viewBox","d","closeButton","closeOnClick","dynamicPosition","onClose","anchor","title","description","Date","visitDate","toLocaleDateString","LogEntryForm","useForm","register","handleSubmit","useState","loading","setLoading","error","setError","onSubmit","data","message","htmlFor","name","required","ref","row","type","disabled","AddEntryMarker","addEntryLocation","setAddEntryLocation","getEntries","App","logEntries","setLogEntries","setViewPort","useEffect","mapStyle","mapboxApiAccessToken","process","onViewportChange","onDblClick","event","lngLat","map","key","ReactDOM","render","document","getElementById"],"mappings":"uPAEaA,EAAc,uCAAG,4BAAAC,EAAA,sEACLC,MAAM,GAAD,OAHd,wBAGc,cADA,cACtBC,EADsB,yBAErBA,EAASC,QAFY,2CAAH,qDAKdC,EAAc,uCAAG,WAAMC,GAAN,eAAAL,EAAA,sEACLC,MAAM,GAAD,OARd,wBAQc,aAAwB,CAClDK,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAUL,KANK,cACtBH,EADsB,yBAQrBA,EAASC,QARY,2CAAH,sD,OCsDZQ,EA1DG,SAAC,GAAkD,IAAhDN,EAA+C,EAA/CA,MAAOO,EAAwC,EAAxCA,SAAUC,EAA8B,EAA9BA,UAAWC,EAAmB,EAAnBA,aAC/C,OACE,kBAAC,WAAD,KACE,kBAAC,IAAD,CAAQC,SAAUV,EAAMU,SAAUC,UAAWX,EAAMW,WACjD,yBACEC,QAAS,kBACPH,EAAa,aACXD,aACCR,EAAMa,KAAM,MAIjB,yBACEC,UAAU,SACVC,MAAO,CACLC,OAAO,GAAD,OAAK,EAAIT,EAASU,KAAlB,MACNC,MAAM,GAAD,OAAK,EAAIX,EAASU,KAAlB,OAEPE,QAAQ,MACRC,GAAG,UACHC,EAAE,MACFC,EAAE,MACFC,QAAQ,eAER,2BACE,2BACE,0BAAMC,EAAE,uVAMjBhB,EAAUR,EAAMa,KACf,kBAAC,IAAD,CACEH,SAAUV,EAAMU,SAChBC,UAAWX,EAAMW,UACjBc,aAAa,EACbC,cAAc,EACdC,iBAAiB,EACjBC,QAAS,kBAAMnB,KACfoB,OAAO,OAEP,yBAAKf,UAAU,SACb,4BAAKd,EAAM8B,OACX,2BAAI9B,EAAM+B,aACV,6CAEG,IAAIC,KAAKhC,EAAMiC,WAAWC,wBAKjC,uC,gBChBOC,EAnCM,SAAC,GAAsC,IAApCzB,EAAmC,EAAnCA,SAAUC,EAAyB,EAAzBA,UAAWiB,EAAc,EAAdA,QAAc,EACtBQ,cAA3BC,EADiD,EACjDA,SAAUC,EADuC,EACvCA,aADuC,EAE3BC,oBAAS,GAFkB,mBAElDC,EAFkD,KAEzCC,EAFyC,OAG/BF,oBAAS,GAHsB,mBAGlDG,EAHkD,KAG3CC,EAH2C,KAInDC,EAAQ,uCAAG,WAAMC,GAAN,SAAAlD,EAAA,sEAEb8C,GAAW,GAFE,SAGP1C,EAAe,eAAK8C,EAAN,CAAYnC,WAAUC,eAH7B,OAIbiB,IAJa,gDAMbe,EAAS,KAAIG,SACbL,GAAW,GAPE,yDAAH,sDAWd,OACE,0BAAM3B,UAAU,YAAY8B,SAAUN,EAAaM,IAChDF,EAAQ,wBAAI5B,UAAU,SAAS4B,GAAc,KAC9C,2BAAOK,QAAQ,SAAf,SACA,2BAAOC,KAAK,QAAQC,UAAQ,EAACC,IAAKb,IAClC,2BAAOU,QAAQ,YAAf,YACA,8BAAUC,KAAK,WAAWG,IAAK,EAAGD,IAAKb,IACvC,2BAAOU,QAAQ,eAAf,eACA,8BAAUC,KAAK,cAAcG,IAAK,EAAGD,IAAKb,IAC1C,2BAAOU,QAAQ,SAAf,SACA,2BAAOC,KAAK,QAAQE,IAAKb,IACzB,2BAAOU,QAAQ,aAAf,cACA,2BAAOC,KAAK,YAAYI,KAAK,OAAOH,UAAQ,EAACC,IAAKb,IAClD,4BAAQgB,SAAUb,GACfA,EAAU,aAAe,sBC4BnBc,EAzDQ,SAAC,GAKjB,IAJLC,EAII,EAJJA,iBACAhD,EAGI,EAHJA,SACAiD,EAEI,EAFJA,oBACAC,EACI,EADJA,WAEA,OACE,kBAAC,WAAD,KACE,kBAAC,IAAD,CACE/C,SAAU6C,EAAiB7C,SAC3BC,UAAW4C,EAAiB5C,WAE5B,6BACE,yBACEG,UAAU,0BACVC,MAAO,CACLC,OAAO,GAAD,OAAK,EAAIT,EAASU,KAAlB,MACNC,MAAM,GAAD,OAAK,EAAIX,EAASU,KAAlB,OAEPE,QAAQ,MACRC,GAAG,UACHC,EAAE,MACFC,EAAE,MACFC,QAAQ,eAER,2BACE,2BACE,0BAAMC,EAAE,uVAMlB,kBAAC,IAAD,CACEd,SAAU6C,EAAiB7C,SAC3BC,UAAW4C,EAAiB5C,UAC5Bc,aAAa,EACbC,cAAc,EACdC,iBAAiB,EACjBC,QAAS,kBAAM4B,EAAoB,OACnC3B,OAAO,OAEP,yBAAKf,UAAU,SACb,kBAAC,EAAD,CACEc,QAAS,WACP4B,EAAoB,MACpBC,KAEF/C,SAAU6C,EAAiB7C,SAC3BC,UAAW4C,EAAiB5C,gBCYzB+C,EA3DH,WAAO,IAAD,EACgCnB,mBAAS,MADzC,mBACTgB,EADS,KACSC,EADT,OAEoBjB,mBAAS,IAF7B,mBAEToB,EAFS,KAEGC,EAFH,OAGkBrB,mBAAS,IAH3B,mBAGT/B,EAHS,KAGEC,EAHF,OAIgB8B,mBAAS,CACvCrB,MAAO,QACPF,OAAQ,QACRN,SAAU,KACVC,WAAY,OACZM,KAAM,IATQ,mBAITV,EAJS,KAICsD,EAJD,KAYVJ,EAAU,uCAAG,sBAAA9D,EAAA,kEACjBiE,EADiB,SACGlE,IADH,6EAAH,qDAIhBoE,qBAAU,WACRL,MACC,IAUH,OACE,kBAAC,IAAD,iBACMlD,EADN,CAEEwD,SAAU,4DACVC,qBAAsBC,uGACtBC,iBAAkBL,EAClBM,WAdoB,SAAAC,GAAU,IAAD,cACDA,EAAMC,OADL,GACxB1D,EADwB,KACbD,EADa,KAE/B8C,EAAoB,CAClB9C,WACAC,iBAYCgD,EAAWW,KAAI,SAAAtE,GACd,OACE,kBAAC,EAAD,CACEuE,IAAKvE,EAAMa,IACXb,MAAOA,EACPO,SAAUA,EACVC,UAAWA,EACXC,aAAcA,OAInB8C,EACC,kBAAC,EAAD,CACEA,iBAAkBA,EAClBhD,SAAUA,EACViD,oBAAqBA,EACrBC,WAAYA,IAEZ,OCvDVe,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.ec4ea1f6.chunk.js","sourcesContent":["const API_URL = \"http://localhost:3001\";\n\nexport const listLogEntries = async () => {\n  const response = await fetch(`${API_URL}/api/logs`);\n  return response.json();\n};\n\nexport const createLogEntry = async entry => {\n  const response = await fetch(`${API_URL}/api/logs`, {\n    method: \"POST\",\n    headers: {\n      \"content-type\": \"application/json\"\n    },\n    body: JSON.stringify(entry)\n  });\n  return response.json();\n};\n","import React, { Fragment } from \"react\";\nimport { Marker, Popup } from \"react-map-gl\";\n\nconst LogMarker = ({ entry, viewport, showPopup, setShowPopup }) => {\n  return (\n    <Fragment>\n      <Marker latitude={entry.latitude} longitude={entry.longitude}>\n        <div\n          onClick={() =>\n            setShowPopup({\n              showPopup,\n              [entry._id]: true\n            })\n          }\n        >\n          <svg\n            className=\"marker\"\n            style={{\n              height: `${6 * viewport.zoom}px`,\n              width: `${6 * viewport.zoom}px`\n            }}\n            version=\"1.1\"\n            id=\"Layer_1\"\n            x=\"0px\"\n            y=\"0px\"\n            viewBox=\"0 0 512 512\"\n          >\n            <g>\n              <g>\n                <path d=\"M256,0C153.755,0,70.573,83.182,70.573,185.426c0,126.888,165.939,313.167,173.004,321.035 c6.636,7.391,18.222,7.378,24.846,0c7.065-7.868,173.004-194.147,173.004-321.035C441.425,83.182,358.244,0,256,0z M256,278.719 c-51.442,0-93.292-41.851-93.292-93.293S204.559,92.134,256,92.134s93.291,41.851,93.291,93.293S307.441,278.719,256,278.719z\" />\n              </g>\n            </g>\n          </svg>\n        </div>\n      </Marker>\n      {showPopup[entry._id] ? (\n        <Popup\n          latitude={entry.latitude}\n          longitude={entry.longitude}\n          closeButton={true}\n          closeOnClick={true}\n          dynamicPosition={true}\n          onClose={() => setShowPopup()}\n          anchor=\"top\"\n        >\n          <div className=\"popUp\">\n            <h3>{entry.title}</h3>\n            <p>{entry.description}</p>\n            <small>\n              Visit Date:\n              {new Date(entry.visitDate).toLocaleDateString()}\n            </small>\n          </div>\n        </Popup>\n      ) : (\n        <></>\n      )}\n    </Fragment>\n  );\n};\n\nexport default LogMarker;\n","import React, { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { createLogEntry } from \"../util/api\";\n\nconst LogEntryForm = ({ latitude, longitude, onClose }) => {\n  const { register, handleSubmit } = useForm();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(false);\n  const onSubmit = async data => {\n    try {\n      setLoading(true);\n      await createLogEntry({ ...data, latitude, longitude });\n      onClose();\n    } catch (err) {\n      setError(err.message);\n      setLoading(false);\n    }\n  };\n\n  return (\n    <form className=\"entryForm\" onSubmit={handleSubmit(onSubmit)}>\n      {error ? <h3 className=\"error\">{error}</h3> : null}\n      <label htmlFor=\"title\">Title</label>\n      <input name=\"title\" required ref={register} />\n      <label htmlFor=\"comments\">Comments</label>\n      <textarea name=\"comments\" row={3} ref={register}></textarea>\n      <label htmlFor=\"description\">Description</label>\n      <textarea name=\"description\" row={3} ref={register}></textarea>\n      <label htmlFor=\"image\">Image</label>\n      <input name=\"image\" ref={register} />\n      <label htmlFor=\"visitDate\">Visit Date</label>\n      <input name=\"visitDate\" type=\"date\" required ref={register} />\n      <button disabled={loading}>\n        {loading ? \"Loading...\" : \"Create Log Entry\"}\n      </button>\n    </form>\n  );\n};\n\nexport default LogEntryForm;\n","import React, { Fragment } from \"react\";\nimport { Marker, Popup } from \"react-map-gl\";\nimport LogEntryForm from \"./LogEntryForm\";\n\nconst AddEntryMarker = ({\n  addEntryLocation,\n  viewport,\n  setAddEntryLocation,\n  getEntries\n}) => {\n  return (\n    <Fragment>\n      <Marker\n        latitude={addEntryLocation.latitude}\n        longitude={addEntryLocation.longitude}\n      >\n        <div>\n          <svg\n            className=\"marker marker-secondary\"\n            style={{\n              height: `${6 * viewport.zoom}px`,\n              width: `${6 * viewport.zoom}px`\n            }}\n            version=\"1.1\"\n            id=\"Layer_1\"\n            x=\"0px\"\n            y=\"0px\"\n            viewBox=\"0 0 512 512\"\n          >\n            <g>\n              <g>\n                <path d=\"M256,0C153.755,0,70.573,83.182,70.573,185.426c0,126.888,165.939,313.167,173.004,321.035 c6.636,7.391,18.222,7.378,24.846,0c7.065-7.868,173.004-194.147,173.004-321.035C441.425,83.182,358.244,0,256,0z M256,278.719 c-51.442,0-93.292-41.851-93.292-93.293S204.559,92.134,256,92.134s93.291,41.851,93.291,93.293S307.441,278.719,256,278.719z\" />\n              </g>\n            </g>\n          </svg>\n        </div>\n      </Marker>\n      <Popup\n        latitude={addEntryLocation.latitude}\n        longitude={addEntryLocation.longitude}\n        closeButton={true}\n        closeOnClick={false}\n        dynamicPosition={true}\n        onClose={() => setAddEntryLocation(null)}\n        anchor=\"top\"\n      >\n        <div className=\"popUp\">\n          <LogEntryForm\n            onClose={() => {\n              setAddEntryLocation(null);\n              getEntries();\n            }}\n            latitude={addEntryLocation.latitude}\n            longitude={addEntryLocation.longitude}\n          />\n        </div>\n      </Popup>\n    </Fragment>\n  );\n};\n\nexport default AddEntryMarker;\n","import React, { useState, useEffect } from \"react\";\nimport ReactMapGL from \"react-map-gl\";\nimport { listLogEntries } from \"../util/api\";\nimport LogMarker from \"./LogMarker\";\nimport AddEntryMarker from \"./AddEntryMarker\";\n\nconst App = () => {\n  const [addEntryLocation, setAddEntryLocation] = useState(null);\n  const [logEntries, setLogEntries] = useState([]);\n  const [showPopup, setShowPopup] = useState({});\n  const [viewport, setViewPort] = useState({\n    width: \"100vw\",\n    height: \"100vh\",\n    latitude: 37.6,\n    longitude: -95.665,\n    zoom: 3\n  });\n\n  const getEntries = async () => {\n    setLogEntries(await listLogEntries());\n  };\n\n  useEffect(() => {\n    getEntries();\n  }, []);\n\n  const showMarkerPopup = event => {\n    const [longitude, latitude] = event.lngLat;\n    setAddEntryLocation({\n      latitude,\n      longitude\n    });\n  };\n\n  return (\n    <ReactMapGL\n      {...viewport}\n      mapStyle={\"mapbox://styles/adrianpearman12/ck6iix7kv0f2e1jpeh8lgiy7l\"}\n      mapboxApiAccessToken={process.env.REACT_APP_MAPBOX_TOKEN}\n      onViewportChange={setViewPort}\n      onDblClick={showMarkerPopup}\n    >\n      {logEntries.map(entry => {\n        return (\n          <LogMarker\n            key={entry._id}\n            entry={entry}\n            viewport={viewport}\n            showPopup={showPopup}\n            setShowPopup={setShowPopup}\n          />\n        );\n      })}\n      {addEntryLocation ? (\n        <AddEntryMarker\n          addEntryLocation={addEntryLocation}\n          viewport={viewport}\n          setAddEntryLocation={setAddEntryLocation}\n          getEntries={getEntries}\n        />\n      ) : null}\n    </ReactMapGL>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}